/*Queue of Integers (Array with structure Implementation of Queue with size MAX)

• Insert an Element in to Queue.
• Delete an Element from Queue.
• Demonstrate Overflow and Underflow situations on Queue.
• Display the status of Queue .
• Exit
Support the program with appropriate functions for each of the above
operations.*/

#include <stdio.h>
#include <stdlib.h>
#define MAX 5   // size of queue
// Structure for Queue
struct Queue {
    int arr[MAX];
    int front;
    int rear;
};
// Function Prototypes
void initialize(struct Queue *q);
int isFull(struct Queue *q);
int isEmpty(struct Queue *q);
void enqueue(struct Queue *q, int item);
void dequeue(struct Queue *q);
void display(struct Queue *q);
int count(struct Queue *q);

int main() {
    struct Queue q;
    int choice, item;
    initialize(&q);
    while (1) {
        printf("\n--- Queue Menu ---\n");
        printf("1. Insert (Enqueue)\n");
        printf("2. Delete (Dequeue)\n");
        printf("3. Display Queue\n");
        printf("4. Count Elements\n");
        printf("5. Exit\n");
        printf("Enter your choice: ");
        scanf("%d", &choice);

        switch (choice) {
        case 1:
            printf("Enter the element to insert: ");
            scanf("%d", &item);
            enqueue(&q, item);
            break;

        case 2:
            dequeue(&q);
            break;

        case 3:
            display(&q);
            break;

        case 4:
            printf("Number of elements = %d\n", count(&q));
            break;

        case 5:
            exit(0);

        default:
            printf("Invalid choice!\n");
        }
    }

    return 0;
}
// Function Definitions
void initialize(struct Queue *q) {
    q->front = -1;
    q->rear = -1;
}
int isFull(struct Queue *q) {
    return (q->rear == MAX - 1);
}

int isEmpty(struct Queue *q) {
    return (q->front == -1 || q->front > q->rear);
}
void enqueue(struct Queue *q, int item) {
    if (isFull(q)) {
        printf("Queue Overflow! Cannot insert %d\n", item);
        return;
    }
    if (q->front == -1)   // first insertion
        q->front = 0;
    q->arr[++q->rear] = item;
    printf("%d inserted into queue.\n", item);
}
void dequeue(struct Queue *q) {
    if (isEmpty(q)) {
        printf("Queue Underflow! Nothing to delete.\n");
        return;
    }
    int item = q->arr[q->front++];
    printf("Deleted element = %d\n", item);
}
void display(struct Queue *q) {
    if (isEmpty(q)) {
        printf("Queue is empty.\n");
        return;
    }
    printf("Queue contents: ");
    for (int i = q->front; i <= q->rear; i++)
        printf("%d ", q->arr[i]);
    printf("\n");
}
int count(struct Queue *q) {
    if (isEmpty(q))
        return 0;
    return (q->rear - q->front + 1); }
